<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <button id="sta">Старт</button>
    <button id="sto">Старт</button>


    <audio id="audio" src="./1.mp3" controls></audio>
    <script>
        const sta = document.getElementById("sta")
        const sto = document.getElementById("sto")


        const audio = document.getElementById("audio")
        let time = []
        let onoff = false
        function date() {


            const date = new Date()
            const hours = date.getHours()
            const minutes = date.getMinutes()
            time.length = 0
            time.push(hours, minutes)


        }
        setInterval(date, 10000)


        function zvonki() {
            if (time[0] == 8 && time[1] == 10) //Пара 1 Урок 1 начало урока стоп перемена 
                stop()
            else
                if (time[0] == 8 && time[1] == 55 && onoff == false)//Пара 1 Урок 1 конец урока старт перемена 
                    start()
                else
                    if (time[0] == 9 && time[1] == 0) //Пара 1 Урок 2 начало урока стоп перемена 
                        stop()
                    else
                        if (time[0] == 9 && time[1] == 45 && onoff == false) //Пара 1 Урок 2 конец урока старт перемена
                            start()
                        else

                            if (time[0] == 9 && time[1] == 55) //Пара 2 Урок 1 начало урока стоп перемена 
                                stop()
                            else
                                if (time[0] == 10 && time[1] == 40 && onoff == false)//Пара 2 Урок 1 конец урока старт перемена 
                                    start()
                                else
                                    if (time[0] == 10 && time[1] == 45) //Пара 2 Урок 2 начало урока стоп перемена 
                                        stop()
                                    else
                                        if (time[0] == 11 && time[1] == 30 && onoff == false) //Пара 2 Урок 2 конец урока старт перемена
                                            start()
                                        else

                                            if (time[0] == 11 && time[1] == 40) //Пара 3 Урок 1 начало урока стоп перемена 
                                                stop()
                                            else
                                                if (time[0] == 12 && time[1] == 25 && onoff == false)//Пара 3 Урок 1 конец урока старт перемена 
                                                    start()
                                                else
                                                    if (time[0] == 12 && time[1] == 30) //Пара 3 Урок 2 начало урока стоп перемена 
                                                        stop()
                                                    else
                                                        if (time[0] == 13 && time[1] == 15 && onoff == false) //Пара 3 Урок 2 конец урока старт перемена
                                                            start()

                                                        else
                                                            if (time[0] == 15 && time[1] == 41 && onoff == false) //тест старт перемена
                                                                start()
                                                            else
                                                                if (time[0] == 15 && time[1] == 42 && onoff == true) //тест конец пермена
                                                                    stop()
        }
        setInterval(zvonki, 10000)

        function currentTime() {
            let random = Math.floor(Math.random() * (6 - 1 + 1)) + 1
            var x = document.getElementById("audio").ended
            let trackTime = audio.currentTime
            if (x === true) {
                audio.src = "./" + random + ".mp3"
                audio.play()
            }
        }


        function start() {
            onoff = true
            audio.src = "./0.mp3";
            audio.play();
            setTimeout(int = setInterval(currentTime, 5000), 8000)
            console.log("function start")
        }


        function stop() {
            onoff = false
            audio.src = "./0.mp3";
            audio.play();
            clearInterval(int)
            console.log("function stop")
        }

    </script>
</body>

</html>