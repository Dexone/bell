<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <div
        style="width: 600px; height: 300px; background-color: rgb(207, 207, 207); margin-left: auto; margin-right: auto;">
        <div style="margin-left: 150px; padding-top: 50px;"><audio id="audio" src="./music/1.mp3" controls></audio>
        </div>
        <div id="clock" style="font-size: 41px;margin-left: 250px">OFF</div>
    </div>
    
    <div style="width: 300px; height: 400px; margin-left: auto; margin-right: auto;">
        <img src="./raspisanie.png">
        chrome://settings/content/sound
    </div>
    <script>


        const audio = document.getElementById("audio")
        let time = []
        let onoff = false
        function date() {
            const date = new Date()
            const hours = date.getHours()
            const minutes = date.getMinutes()
            time.length = 0
            time.push(hours, minutes)
            console.log("function date")
            document.querySelector("#clock").innerHTML = time[0] + ":" + time[1]
        }
        setInterval(date, 10000)


        function zvonki() {
            if (time[0] == 8 && time[1] == 10 && onoff == true) //Пара 1 Урок 1 начало урока стоп перемена 
                stop()
            else
                if (time[0] == 8 && time[1] == 55 && onoff == false)//Пара 1 Урок 1 конец урока старт перемена 
                    start()
                else
                    if (time[0] == 9 && time[1] == 0 && onoff == true) //Пара 1 Урок 2 начало урока стоп перемена 
                        stop()
                    else
                        if (time[0] == 9 && time[1] == 45 && onoff == false) //Пара 1 Урок 2 конец урока старт перемена
                            start()
                        else

                            if (time[0] == 9 && time[1] == 55 && onoff == true) //Пара 2 Урок 1 начало урока стоп перемена 
                                stop()
                            else
                                if (time[0] == 10 && time[1] == 40 && onoff == false)//Пара 2 Урок 1 конец урока старт перемена 
                                    start()
                                else
                                    if (time[0] == 10 && time[1] == 45 && onoff == true) //Пара 2 Урок 2 начало урока стоп перемена 
                                        stop()
                                    else
                                        if (time[0] == 11 && time[1] == 30 && onoff == false) //Пара 2 Урок 2 конец урока старт перемена
                                            start()
                                        else

                                            if (time[0] == 11 && time[1] == 40 && onoff == true) //Пара 3 Урок 1 начало урока стоп перемена 
                                                stop()
                                            else
                                                if (time[0] == 12 && time[1] == 25 && onoff == false)//Пара 3 Урок 1 конец урока старт перемена 
                                                    start()
                                                else
                                                    if (time[0] == 12 && time[1] == 30 && onoff == true) //Пара 3 Урок 2 начало урока стоп перемена 
                                                        stop()
                                                    else
                                                        if (time[0] == 13 && time[1] == 15 && onoff == false) //Пара 3 Урок 2 конец урока старт перемена
                                                            start()
        }
        setInterval(zvonki, 10000)

        function currentTime() { //включение рандомной песни
            audio.volume = 0.05
            let random = Math.floor(Math.random() * (43 - 1 + 1)) + 1
            var x = document.getElementById("audio").ended
            let trackTime = audio.currentTime
            if (x === true) {
                audio.src = "./music/" + random + ".mp3"
                audio.play()
            }
        }


        function start() {
            audio.volume = 1
            onoff = true
            audio.src = "./0.mp3";
            audio.play();
            setTimeout(int = setInterval(currentTime, 5000), 8000)
            console.log("function start")
        }


        function stop() {
            audio.volume = 1
            onoff = false
            audio.src = "./0.mp3";
            audio.play();
            clearInterval(int)
            console.log("function stop")
        }

    </script>
</body>

</html>